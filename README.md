# EnPractice - VS Code英语练习插件

一个专为程序员设计的VS Code英语学习插件，将英语练习无缝集成到编程工作流中。

## ✨ 功能特性

- 📚 **词汇练习**: 支持多种词典，包括红宝书、新概念英语等
- 🎯 **智能分章**: 自动将词典分成10个单词的小章节，循序渐进
- 📊 **记录**: 详细的练习统计和进度追踪
- ⚙️ **个性化设置**: 灵活的练习模式和显示选项
- 🚀 **高性能**: 分片存储架构，支持超大词典流畅运行
- 📱 **响应式UI**: 现代化的用户界面，支持多种主题
- 📅 **每日记录**: 自动记录每日练习的单词，避免重复练习
- 📈 **学习分析**: 生成每日学习报告，追踪学习进度

## 📦 内置词典

- **红宝书2026** - 考研英语词汇红宝书 (4858个单词)
- **新概念英语1-4册** - 经典英语学习教材

## 🎮 使用方法

### 开始练习
1. 按 `Ctrl+Shift+P` 打开命令面板
2. 输入 "EnPractice" 查看可用命令：
   - `EnPractice: Start Practice` - 开始英语练习
   - `EnPractice: Open Settings` - 打开设置面板
   - `EnPractice: Records` - 查看记录

### 练习界面
- **章节信息**：显示当前章节和进度
- **单词显示**：单词、音标、释义一目了然
- **实时反馈**：输入时即时显示正确性
- **智能导航**：自动跳转下一个单词

### 设置管理
- **词典切换**：支持多个词典随时切换
- **练习模式**：顺序练习模式（固定）
- **章节循环**：可选择是否在章节内循环练习

### 记录
- **全局统计**：总练习次数、错误次数、正确率
- **章节数据**：每章的详细练习统计
- **单词详情**：每个单词的练习记录和正确次数
- **每日报告**：查看每日学习情况和趋势分析

## ⚡ 性能优势

采用创新的分片存储架构：
- **内存占用减少550倍**：从1.1MB降至2KB
- **响应速度提升100倍**：从50-100ms降至1-5ms
- **支持超大词典**：无缝支持万级单词量

## 🛠️ 开发说明

### 技术栈
- **TypeScript 4.9.4** - 类型安全的开发体验
- **VS Code Extension API** - 原生插件架构
- **分片存储系统** - 高性能数据管理

### 项目结构
```
src/
├── extension.ts           # 插件主入口
├── types.ts              # 类型定义
├── settings.ts           # 设置管理
├── wordbooks.ts          # 词书管理
├── practiceProvider.ts   # 练习界面
├── settingsProvider.ts   # 设置界面
├── analyticsProvider.ts  # 记录
├── dayRecordManager.ts   # 每日记录管理
├── dayAnalysisManager.ts # 每日分析管理
└── shardedRecordManager.ts # 分片记录管理
```

### 开发环境设置
```bash
# 安装依赖
npm install

# 编译代码
npm run compile

# 监视模式编译
npm run watch
```

### 调试插件
1. 在VS Code中打开项目
2. 按 `F5` 启动调试模式
3. 在Extension Development Host窗口中测试插件功能
4. 按 `F12` 可以调试Webview界面

## 📁 数据文件结构

```
data/
├── wordbooks.json        # 词典列表配置
├── settings.json         # 用户设置
├── dicts/               # 词典文件
│   ├── hongbaoshu-2026.json
│   └── NCE_*.json
├── records/             # 练习记录
│   ├── {dictId}_main.json    # 主记录
│   └── {dictId}_ch{N}.json   # 章节记录
├── dayRecords/          # 每日记录
│   ├── {date}.json           # 正常模式每日记录
│   ├── {date}_dictation.json # 默写模式每日记录
│   └── totalRecords.json     # 总记录文件
└── dayRecordsAnalyze/   # 每日分析报告
    └── {date}_analysis.json  # 每日分析报告
```

## 🎯 核心特性详解

### 分片存储系统
- **主记录文件**：存储词典基本信息和全局统计
- **章节记录文件**：独立存储每章的练习数据
- **按需加载**：只加载当前需要的数据
- **实时统计**：所有统计数据实时计算

### 智能练习算法
- **顺序练习**：按词典顺序进行练习
- **章节分组**：每章固定10个单词
- **进度跟踪**：记录每个单词的练习情况
- **错误重练**：智能识别薄弱环节

### 每日记录管理
- **自动记录**：插件启动时自动创建当日记录文件
- **模式区分**：正常模式和默写模式分别记录
- **去重机制**：每天每个单词只记录一次
- **总记录追踪**：维护所有练习日期的记录

### 记录功能
- **章节统计**：完成次数、练习次数、正确率
- **单词详情**：练习次数、正确次数、错误次数
- **趋势分析**：学习进度可视化
- **个性化报告**：定制化学习建议
- **每日报告**：按日期查看学习情况

## 📋 系统要求

- **VS Code版本**: >= 1.74.0
- **Node.js版本**: >= 16.x
- **TypeScript**: >= 4.9.4
- **操作系统**: Windows, macOS, Linux

## 📖 更多文档

- [📋 项目设计文档](./PROJECT_DESIGN.md) - 详细的架构设计和技术方案
- [⚡ 性能分析报告](./PERFORMANCE.md) - 分片存储架构和性能优势
- [📁 数据文件说明](./data/README.md) - 数据文件格式和使用方法

## 🎉 版本信息

- **当前版本**: 0.0.1
- **开发状态**: 核心功能完成，持续优化中
- **更新日期**: 2025-08-27

## 🤝 贡献指南

欢迎提交Issue和Pull Request来改进插件！

### 如何贡献
1. Fork 本项目
2. 创建功能分支 (`git checkout -b feature/AmazingFeature`)
3. 提交更改 (`git commit -m 'Add some AmazingFeature'`)
4. 推送到分支 (`git push origin feature/AmazingFeature`)
5. 创建 Pull Request

### 问题反馈
- 🐛 发现Bug？请提交 [Issue](../../issues)
- 💡 有建议？欢迎讨论新功能
- 📝 文档改进？帮助完善文档

## 📄 许可证

MIT License - 详见 [LICENSE](LICENSE) 文件

---

**EnPractice** - 让英语学习成为编程工作流的自然延伸 🚀